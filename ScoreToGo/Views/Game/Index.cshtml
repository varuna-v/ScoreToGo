@model ScoreToGo.ViewModels.GamePlayViewModel
@{
    ViewBag.Title = "Game";
}

@section scripts {
    <script src="~/App/Game/App.js"></script>
}

@*@section jsCode {
    angular.bootstrap(document.getElement)}*@

<div id="gamePlay" ng-controller="gameViewModel" ng-init="init(@Newtonsoft.Json.JsonConvert.SerializeObject(Model))">
    <h2>{{headingCaption}}</h2>
    <div class="row">
        <div class="col-xs-6 text-right">
            <span class="text-size-10">{{ gamePlay.GamePlay.SetWins[0] }}</span>
            <span class="text-bold text-size-16">{{ gamePlay.GamePlay.Sets[gamePlay.GamePlay.CurrentSetNumber].Score[0] }}</span>
        </div>
        <div class="col-xs-6">
            <span class="text-bold text-size-16">{{ gamePlay.GamePlay.Sets[gamePlay.GamePlay.CurrentSetNumber].Score[1] }}</span>
            <span class="text-size-10">{{ gamePlay.GamePlay.SetWins[1] }}</span>
        </div>
    </div>
    <div id="gameplayRotation" class="container-fluid row portrait-hidden text-center">

        <div class="panel panel-default col-xs-6">
            <div class="row pad-20 columns-2">
                <div class="player" ng-repeat="player in gamePlay.RotationForView[0].ShirtNumbers">
                    {{ player }}
                </div>
            </div>
        </div>

        <div class="panel panel-default col-xs-6">
            <div class="row pad-20 columns-2">
                <div class="player" ng-repeat="player in gamePlay.RotationForView[1].ShirtNumbers">
                    {{ player }}
                </div>
            </div>
        </div>

    </div>
    <div class="row">
        <div class="col-xs-6">
            <button type="submit" class="btn pull-right" ng-click="addPoint(0)">Point</button>
        </div>
        <div class="col-xs-6">
            <button type="submit" class="btn" ng-click="addPoint(1)">Point</button>
        </div>
    </div>
</div>
<div id="substitutionPanel" style="display:none">
    @*//!!inline css*@
    <form class="form-inline" method="post">
        <input type="text" id="substitutionKey" class="hidden" name="substitutionKey" />
        <input type="text" id="newPlayerIn" name="newPlayerIn" class="form-control" />
        <button type="submit" value="Substitute" formaction="@Url.Action("Substitute")" class="btn pull-right">Substitute</button>
    </form>
</div>

@Html.Partial("PlayerOptionsMenu")




@*<div id="gamePlay" ng-controller="gameViewModel">
        <div class="row">
            <div class="col-xs-6 text-right">
                <span class="text-size-10">@Model.SetWins[0]</span>
                <span class="text-bold text-size-16">@Model.Sets[@Model.CurrentSetNumber].Score[0]</span>
            </div>
            <div class="col-xs-6">
                <span class="text-bold text-size-16">@Model.Sets[@Model.CurrentSetNumber].Score[1]</span>
                <span class="text-size-10">@Model.SetWins[1]</span>
            </div>
        </div>
        <div id="gameplayRotation" class="container-fluid row portrait-hidden text-center">
            <div class="panel panel-default col-xs-6">
                <div class="row pad-20">
                    <span class="col-xs-6" id="0.4">@Model.Sets[@Model.CurrentSetNumber].TeamRotations[0].ShirtNumbers[4]</span>
                    <span class="col-xs-6" id="0.3">@Model.Sets[@Model.CurrentSetNumber].TeamRotations[0].ShirtNumbers[3]</span>
                </div>
                <div class="row pad-20">
                    <span class="col-xs-6" id="0.5">@Model.Sets[@Model.CurrentSetNumber].TeamRotations[0].ShirtNumbers[5]</span>
                    <span class="col-xs-6" id="0.2">@Model.Sets[@Model.CurrentSetNumber].TeamRotations[0].ShirtNumbers[2]</span>
                </div>
                <div class="row pad-20">
                    <span class="col-xs-6" id="0.0">@Model.Sets[@Model.CurrentSetNumber].TeamRotations[0].ShirtNumbers[0]</span>
                    <span class="col-xs-6" id="0.1">@Model.Sets[@Model.CurrentSetNumber].TeamRotations[0].ShirtNumbers[1]</span>
                </div>
            </div>

            <div class="panel panel-default col-xs-6">
                <div class="row pad-20">
                    <span class="col-xs-6" id="1.1">@Model.Sets[@Model.CurrentSetNumber].TeamRotations[1].ShirtNumbers[1]</span>
                    <span class="col-xs-6" id="1.0">@Model.Sets[@Model.CurrentSetNumber].TeamRotations[1].ShirtNumbers[0]</span>
                </div>
                <div class="row pad-20">
                    <span class="col-xs-6" id="1.2">@Model.Sets[@Model.CurrentSetNumber].TeamRotations[1].ShirtNumbers[2]</span>
                    <span class="col-xs-6" id="1.5">@Model.Sets[@Model.CurrentSetNumber].TeamRotations[1].ShirtNumbers[5]</span>
                </div>
                <div class="row pad-20">
                    <span class="col-xs-6" id="1.3">@Model.Sets[@Model.CurrentSetNumber].TeamRotations[1].ShirtNumbers[3]</span>
                    <span class="col-xs-6" id="1.4">@Model.Sets[@Model.CurrentSetNumber].TeamRotations[1].ShirtNumbers[4]</span>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-6">
                <button type="submit" name="pointWinner" value="0" class="btn pull-right" ng-click="givePoint(0)">Point</button>
            </div>
            <div class="col-xs-6">
                <button type="submit" name="pointWinner" value="1" class="btn" ng-click="givePoint(0)">Point</button>
            </div>
        </div>
    </div>
    <div id="substitutionPanel" style="display:none">
        @*//!!inline css*@
@*<form class="form-inline" method="post">
        <input type="text" id="substitutionKey" class="hidden" name="substitutionKey" />
        <input type="text" id="newPlayerIn" name="newPlayerIn" class="form-control" />
        <button type="submit" value="Substitute" formaction="@Url.Action("Substitute")" class="btn pull-right">Substitute</button>
    </form>
    </div>*@